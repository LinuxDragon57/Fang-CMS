{% extends 'cms/cms.html' %}

{% block subTitle %}{% endblock %}

{% block navMenuItems %}
    <ul id="navMenu">
    <li class="navItem"><a class="navBtn" href="{{ url_for('cms.create') }}">Write New Post</a></li>
    <li class="navItem"><a class="navBtn" href="{{ url_for('cms.read') }}">View Current Posts</a></li>
    <li class="navItem"><a class="navBtn" href="{{ url_for('cms.update') }}">Edit an Existing Post</a></li>
    <li class="navItem"><a class="navBtn" href="{{ url_for('cms.delete') }}">Delete an Existing Post</a></li>
    <li class="navItem"><a class="navBtn" href="{{ url_for('auth.account_settings') }}">Manage Account</a></li>
    </ul>
{% endblock %}

{% block heading %}
<h1>Hello, {{ current_user_name }}</h1>
{% endblock %}

{% block content %}
    {% for post in posts %}
        {%  if update %}
            <a class="postLink" href="{{ url_for('cms.update', post_id=post.id) }}">
                <div class="listEntry">
                    <h2 class="entryTitle"> {{ post.title }} </h2>
                    <h3 class="entryDescription"> {{ post.description }}</h3>
                </div>
            </a>
        {% elif delete %}
            <a class="postLink" href="{{ url_for('cms.delete', post_id=post.id) }}">
                <div class="listEntry">
                    <h2 class="entryTitle"> {{ post.title }} </h2>
                    <h3 class="entryDescription"> {{ post.description }}</h3>
                </div>
            </a>
        {%  else %}
            <a class="postLink" href="{{ url_for('cms.read', post_id=post.id) }}">
                <div class="listEntry">
                    <h2 class="entryTitle"> {{ post.title }} </h2>
                    <h3 class="entryDescription"> {{ post.description }}</h3>
                </div>
            </a>
        {% endif %}
    {% endfor %}
{% endblock %}